<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>//Main script
    class GameState {
        constructor() {
            this.maxCelestialObj = 50;
            this.fps = 1;
            this.width = 1000, this.height = 800;
            this.CelestialObj = 0;
            this.CelestialObjs = [];
        }

        start(func) {
            let game_intervalId = setInterval(func, 1000 / this.fps);
        }

        update() {
            while(this.CelestialObj < this.maxCelestialObj) {
                this.CelestialObj++;
                let x = Number(Math.random()*this.width);
                let y = Number(Math.random()*this.height);
                let size = Number(Math.random()*30);
                this.CelestialObjs.push(new CelestialObject(x, y, size));
            }
        }

        draw() {
            let canvas = document.getElementById("myCanvas");
            let ctx = canvas.getContext("2d");
            for(let i=0;i<this.CelestialObj;i++) {
                let x = this.CelestialObjs[i].x, y = this.CelestialObjs[i].y,
                    size = this.CelestialObjs[i].size;
                ctx.beginPath();
                ctx.arc(x, y, size,0,2*Math.PI);
                ctx.fillStyle = 'white';
                ctx.fill();
                //context.lineWidth = 5;
                //context.strokeStyle = '#003300';
                ctx.stroke();
            }

            let img = new Image;
            img.src = "https://raw.githubusercontent.com/EvgeniB/EvgeniB.github.io/master/boss1.png";
            ctx.drawImage(img, this.width/2, this.height/2);
        }

        run_loop() {
            //this.update();
            //this.draw();
            alert(this.CelestialObj);
        }
    }

    class CelestialObject {
        constructor(x, y, size) {
            this.x = x;
            this.y = y;
            this.size = size;
        }
        toString() {
            return `(${this.x}, ${this.y}, ${this.size})`;
        }
    }

    class Space {


    }
    window.onload = function(){
        let gameObj = new GameState();
        gameObj.start(gameObj.run_loop);
        gameObj.run_loop();
    }
    </script>
</head>
<body>
<canvas id="myCanvas" width="1000" height="800" style="background:black;display:block;margin:auto;"></canvas>

</body>
</html>
